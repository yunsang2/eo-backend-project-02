# 차량 커뮤니티
기능 명세서 작성

## 1. 회원가입 
- 설명 : 새로운 회원 등록
- 요청 URL : /account/signup
- 요청 방식 : POST
- 요청 매개 변수 : 이메일(email),비밀번호(password), 이름(name), 닉네임(nickname), 
- 입력 양식 :
- 기능 수행 후 URL 재지정 : /account/login
- 제약 조건
    - 이메일, 비밀번호, 이름, 닉네임은 필수입력해야 한다.
        - 오류 메시지 : 필수입력 항목은 반드시 입력해야 합니다.
    - 이메일은 올바른 형태로 입력해야 한다.
        - 오류 메시지 : 올바른 이메일을 입력해야 합니다.   
    - 이메일은 100자 이하여야 한다.
        - 오류 메시지 : 이메일은 100자 이하여야 합니다.
    - 이메일은 중복될 수 없다.
    -   - 오류 메시지 : 이미 사용중인 이메일입니다.
    - 비밀번호는 12자 이상, 255자 이하여야 한다.
        - 오류 메시지 : 비밀번호는 12자 이상, 255자 이하여야 합니다.
    - 비밀번호에 영문, 숫자, 특수문자를 포함해야 한다. .
        - 오류 메시지 :  영문, 숫자, 특수문자가 같이 입력되어야 합니다.
    - 이름은 50자 이하여야 한다.
        - 오류 메시지 :  이름은 50자 이하여야 합니다.   
    - 닉네임은 15자 이하여야 한다.
        - 오류 메시지 :  닉네임은 15자 이하여야 합니다.
    - 닉네임은 중복될 수 없다.
    - 오류 메시지 : 이미 사용중인 닉네임 입니다. 

## 2. 로그인
- 설명 : 로그인
- 요청 URL : /account/login
- 요청 방식 : POST
- 요청 매개 변수 : 이메일(email), 비밀번호(password)
- 입력 양식 :
- 기능 수행 후 URL 재지정 : / 
- 제약 조건
    - 이메일, 비밀번호는 필수입력해야 한다.
        - 오류 메시지 : 이메일, 비밀번호를 반드시 입력해야 로그인된다.
- 기능
    - 이메일, 비밀번호 일치 로그인 성공.
    - 이메일, 비밀번호 불일치 오류 출력.

## 3. 비밀번호 찾기
- 설명 : 비밀번호 찾기
- 요청 URL : /account/password
- 요청 방식 : POST
- 요청 매개 변수 : 이메일(email)
- 입력 양식 :
- 기능 수행 후 URL 재지정 : /account/password
- 제약 조건
  - 이메일 필수입력해야 한다.
        - 오류 메시지 : 이메일은 반드시 입력해야 합니다.
-기능
  - 등록된 이메일 경우 비밀번호 반환
  - 비등록된 이메일 경우 오류메시지 출력

## 4. 사용자 정보 조회 
- 설명 : 사용자 정보 조회 
- 요청 URL : /account/info
- 요청 방식 : GET
- 요청 매개 변수 : login 정보
- 입력 양식 :
- 기능 수행 후 URL 재지정 : 
- 제약 조건
    - 사용자 정보를 조회하려면 로그인이 되어 있어야 한다.
      - 오류메시지 : 로그인 이후 이용 바랍니다.

## 5. 사용자 정보 수정 
- 설명 : 사용자 정보 내에 비밀번호, 닉네임 수정
- 요청 URL : /account/update
- 요청 방식 : POST
- 요청 매개 변수 : 비밀번호(password), 닉네임(nickname)
- 입력 양식 :
- 기능 수행 후 URL 재지정 : /account/info
- 제약 조건
    - 비밀번호는 12자 이상, 255자 이하여야 한다.
        - 오류 메시지 : 비밀번호는 12자 이상, 255자 이하여야 합니다.
    - 비밀번호에 영문, 숫자, 특수문자를 포함해야 한다. .
        - 오류 메시지 :  영문, 숫자, 특수문자가 같이 입력되어야 합니다.
    - 닉네임은 15자 이하여야 한다.
        - 오류 메시지 :  닉네임은 15자 이하여야 합니다. 
    - 닉네임은 중복될 수 없다.
        - 오류 메시지 : 이미 사용중인 닉네임 입니다.
-기능
    - 비밀번호, 닉네임 빈칸일 경우 오류 메시지 출력
        - 오류 메시지 : 비밀번호, 닉네임을 입력해야 합니다. 

## 6. 메인화면
- 설명 : 메인화면(공지사항, 게시판 요약)
- 요청 URL : /main
- 요청 방식 : GET
- 요청 매개 변수 : login 정보 
- 입력 양식 :
- 기능 수행 후 URL 재지정 : 
- 제약 조건
    - 회원과 비회원의 구분이 필요하다.

## 7. 게시물 목록
- 설명 : 게시물 목록을 조회
- 요청 URL : /board/list
- 요청 방식 : GET
- 요청 매개 변수 : 페이지(page), 게시판 종류(board)
- 입력 양식 :
- 기능 수행 후 URL 재지정 :
- 제약 조건

## 8. 게시물 조회
- 설명 : 게시물 상세 조회
- 요청 URL : /board/read
- 요청 방식 : GET
- 요청 매개 변수 : 게시물 번호(id), 페이지(page), 
- 입력 양식 :
- 기능 수행 후 URL 재지정 : 
- 제약 조건
    - 등록된 id여야 합니다.
      - 오류 메시지 : 존재하지 않거나 삭제된 게시물입니다. 

## 9. 게시물 작성
- 설명 : 새로운 게시물을 등록 
- 요청 URL : /board/write
- 요청 방식 : POST
- 요청 매개 변수 : 게시물 제목(title), 게시물 내용(content), 작성자(writer)
- 입력 양식 : 필요(GET / board / write)
- 기능 수행 후 URL 재지정 : /board/read
- 제약 조건
    - 제목 글자수는 1자 이상 80자 이하 
      - 오류 메시지 : 제목과 내용은 반드시 입력되어야 합니다.
    - 비로그인 사용자는 게시글 작성에 접근할 수 없다.
      - 오류 메시지 : 로그인이 필요합니다. (로그인 페이지로 이동) 

## 10. 게시물 수정
- 설명 : 작성된 게시물을 수정할 수 있어야 한다.
- 요청 URL : /board/update
- 요청 방식 : POST
- 요청 매개 변수 : 게시물 번호(id), 게시물 제목(title), 게시물 내용(content), 작성자(writer)
- 입력 양식 : 
- 기능 수행 후 URL 재지정 : /board/read
- 제약 조건 
    - 제목 글자수는 1자 이상 80자 이하 
      - 오류 메시지 : 제목과 내용은 반드시 입력되어야 합니다. 
    - 게시물의 작성자 이외 수정은 할 수 없다.

## 11. 게시물 삭제
- 설명 : 기존 게시물을 관리자/매니저가 삭제할 수 있으며 작성자는 자신의 게시물만 삭제할 수 있다.
- 요청 URL : /board/delete
- 요청 방식 : POST
- 요청 매개 변수 : 게시물 번호(id)
- 입력 양식 : 
- 기능 수행 후 URL 재지정 : /board/list
- 제약 조건
    - 관리자/매니저/작성자 이외 삭제할 수 없다.
      - 오류 메시지 : 삭제 권한이 없습니다.

## 12-1. 관리자 전체현황 지표 
- 설명 : 전체현황 지표(전체 사용자수, 금일 가입자수, 전체 컨텐츠 수, 미확인 신고 건수)를 확인 할 수 있다.
- 요청 URL : /admin/status
- 요청 방식 : GET
- 요청 매개 변수 : 
- 입력 양식 :
- 기능 수행 후 URL 재지정 : 
- 제약 조건
    - 관리자 or 매니저만 접근 가능
      - 오류 메시지 : 권한이 없습니다. 
    - 매니저는 권한 이외에 접근 할 수 없다.

## 12-2-1 관리자 → 사용자 조회
- 설명 : 관리자가 가입된 사용자 조회
- 요청 URL : /admin/user/list
- 요청 방식 : GET
- 요청 매개 변수 : 
- 입력 양식 : 
- 기능 수행 후 URL 재지정 :
- 제약 조건
    - 관리자 제외 권한접근 제어가 필요합니다.
     - 오류 메시지 : 접근 권한이 없습니다. 

## 12-2-2 관리자 → 사용자 관리
- 설명 : 관리자가 가입된 사용자 관리
- 요청 URL : /admin/user/status
- 요청 방식 : POST
- 요청 매개 변수 : 액션(action),
- 입력 양식 : 
- 기능 수행 후 URL 재지정 :
- 제약 조건
    - 관리자 제외 권한접근 제어가 필요합니다.
      - 오류 메시지 : 접근 권한이 없습니다.

## 12-3-1 관리자 → 게시판 관리
- 설명 :  관리자가 게시판 관리
- 요청 URL : /admin/board
- 요청 방식 : GET/POST
- 요청 매개 변수 : 게시판 번호(id)
- 입력 양식 :
- 기능 수행 후 URL 재지정 : 
- 제약 조건
    - 관리자와 매니저만 볼 수 있다.
      - 매니저는 자신이 맡은 담당 게시판만 볼 수 있다.

## 12-3-2 관리자 → 게시물 관리
- 설명 :  관리자가 게시물 관리
- 요청 URL : /admin/board/list
- 요청 방식 : GET/POST
- 요청 매개 변수 : 게시물 번호(id), 
- 입력 양식 :
- 기능 수행 후 URL 재지정 :
- 제약 조건
   - 관리자와 매니저만 볼 수 있다.
      - 매니저는 자신이 맡은 담당 게시판만 볼 수 있다.

## 12-4 관리자 → 신고함 관리
- 설명 : 관리가 사용자에게 받은 신고함 관리
- 요청 URL : /admin/reports (목록), /admin/reports/{id}/process (처리) 
- 요청 방식 : GET/POST 
- 요청 매개 변수 : 신고 번호(id), 처리 사유(reason)
- 입력 양식 :
- 기능 수행 후 URL 재지정 : (처리) admin/reports
- 제약 조건
    - 관리자만 볼 수 있다.
    - 완료된 신고는 중복처리 될 수 없다.

## 12-5 관리자 → 문의함 관리
- 설명 : 관리자가 사용자에게 받은 문의함 관리
- 요청 URL : /admin/supports (목록), /admin/supports/{id}/process (처리)
- 요청 방식 : GET/POST
- 요청 매개 변수 : 문의 번호(id), 문의 해결 상태(is_solved)
- 입력 양식 :
- 기능 수행 후 URL 재지정 : /admin/supports 
- 제약 조건
    - 관리자만 답변을 줄 수 있다.
    - 답변이 등록되면 답변 완료 상태로 전환된다.
    - 빈 답변을 등록할 수 없다 
      - 오류 메세지 : 내용을 입력해야 합니다.

## 13 쪽지
- 설명 : 쪽지 송수신
- 요청 URL : /message
- 요청 방식 : POST/GET
- 요청 매개 변수 : 쪽지 번호(id), 보내는 사람(sender), 받는 사람(receiver), 쪽지 내용(content)
- 입력 양식 :
- 기능 수행 후 URL 재지정 : /message/read
- 제약 조건
    - 받는 사람은 필수 입력되어야 한다.
      - 오류 메시지 : 존재하지 않는 회원입니다.
    - 쪽지 글자수는 1000자 이내로 제한한다.
      - 오류 메시지 :  글자 수가 초과되었습니다.
    - 쪽지함 갯수는 송신함과 수신함은 500개로 제한한다. 

## 14 쪽지함
- 설명 : 보낸쪽지와 받은쪽지를 보관한다.
- 요청 URL : /message/
- 요청 방식 : POST
- 요청 매개 변수 : 비밀번호(password)
- 입력 양식 :
- 기능 수행 후 URL 재지정 : /message
- 제약 조건
    - 본인확인을 위해 비밀번호 재입력 필수    

## 15. 댓글
- 설명 : 게시물에 댓글을 추가한다.
- 요청 URL : 
- 요청 방식 : POST
- 요청 매개 변수 : 게시물 번호(id), 작성자 번호(user_id), 댓글 내용(comment), 첨부파일(attachments)
- 입력 양식 :
- 기능 수행 후 URL 재지정 : /board/post
- 제약 조건
    - 로그인 후 사용 가능
        - 오류 메시지 : 로그인 후 사용하여 주시기 바랍니다.
    - 댓글 글자 수는 1자~1000자 내로 작성하여 주시기 바랍니다.
    - 첨부파일 들어갈 수 있다.
      - 첨부파일의 용량은 000000으로 제한한다.
      - 오류 메시지 : 용량이 초과 되었습니다.

## 16.  회원탈퇴
- 설명 : 서비스 이용 종료 및 계정 삭제
- 요청 URL : /account/leav
- 요청 방식 : POST
- 요청 매개 변수 : 비밀번호(password)
- 입력 양식 :
- 기능 수행 후 URL 재지정 : /main
- 제약 조건
    - 본인확인을 위해 비밀번호 재입력 필수
        
    